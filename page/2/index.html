<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <title>Jingbei Li&#39;s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta property="og:type" content="website">
<meta property="og:title" content="Jingbei Li's Blog">
<meta property="og:url" content="http://jingbei.li/page/2/index.html">
<meta property="og:site_name" content="Jingbei Li's Blog">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Jingbei Li's Blog">
<meta name="twitter:creator" content="@JingbeiLi">
  
    <link rel="alternate" href="/atom.xml" title="Jingbei Li&#39;s Blog" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  
    <link href="//fonts.googleapis.com/css?family=Source+Code+Pro" rel="stylesheet" type="text/css">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Jingbei Li&#39;s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
          <a class="main-nav-link" href="/about">About</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS Feed"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="Suche"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" results="0" class="search-form-input" placeholder="Search"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="http://jingbei.li"></form>
      </div>
    </div>
  </div>
</header>
      <div class="outer">
        <section id="main">
  
    <article id="post-moved-to-jingbeili" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/26/moved-to-jingbeili/" class="article-date">
  <time datetime="2015-01-26T00:00:00.000Z" itemprop="datePublished">Jan 26 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/26/moved-to-jingbeili/">Moved to jingbei.li</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><code>.li</code> is the ccTLD(Internet country code top-level domain) for Liechtenstein. I first saw this domain is at <a href="http://www.iisp.com" target="_blank" rel="external">iisp.com</a>. The price is pretty high(about $40/year) and made me give up.</p>
<p>It so happened that this domain is also sold at <a href="http://www.namecheap.com" target="_blank" rel="external">namecheap</a> with 14.99$/year. According to the significance of this domain to me and such a low price, I bought it with no second thought.</p>
<p>BTW, I also set up a custom email with this domain, <a href="mailto:i@jingbei.li">i@jingbei.li</a>. But my old main email account seems to need a long time to fade out.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2015/01/26/moved-to-jingbeili/" data-id="citb82vfv000bg2efi5a7dzac" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2015/01/26/moved-to-jingbeili/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/logs/">logs</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-a-simple-bat-script-to-splicing-videos" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/23/a-simple-bat-script-to-splicing-videos/" class="article-date">
  <time datetime="2015-01-23T00:00:00.000Z" itemprop="datePublished">Jan 23 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/23/a-simple-bat-script-to-splicing-videos/">A simple bat script to splicing videos</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Well, actually it’s a task given by my uncle. So the spirit of this script should be KISS, “Keep It Simple, Stupid”.</p>
<p>Instead of GUI, I choose ffmpeg to be the decoder(and the encoder if necessary). Luckily, ffmpeg has a <a href="http://ffmpeg.zeranoe.com/builds/" target="_blank" rel="external">static windows binary build</a>. A good start!</p>
<p>The next part is writing a KISS script for windows. Because I’m not familiar to bat files at all, it took a while before I finally found out a trick to solve a problem about processing the files’ name.</p>
<p>The final version of the script looks like the following:</p>
<figure class="highlight bat"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div></pre></td><td class="code"><pre><div class="line">@<span class="built_in">echo</span> off</div><div class="line"><span class="built_in">cd</span> /d %~dp0</div><div class="line"><span class="built_in">set</span> ffmpeg=bin\ffmpeg.exe</div><div class="line"><span class="built_in">del</span> filelist.txt</div><div class="line"><span class="built_in">del</span> splicing.mkv</div><div class="line">:LOOP</div><div class="line"><span class="keyword">IF</span> [%<span class="number">1</span>]==[] <span class="keyword">GOTO</span> END</div><div class="line">	<span class="built_in">set</span> filename=%<span class="number">1</span></div><div class="line">	<span class="built_in">echo</span> file ^'%~<span class="number">1</span>^' &gt;&gt;filelist.txt </div><div class="line">	<span class="built_in">SHIFT</span></div><div class="line"><span class="keyword">GOTO</span> LOOP</div><div class="line">:END</div><div class="line"><span class="variable">%ffmpeg%</span> -f concat -i filelist.txt -c <span class="built_in">copy</span> splicing.mkv</div><div class="line"><span class="built_in">rename</span> splicing.mkv spliced.mkv</div><div class="line"><span class="built_in">del</span> filelist.txt</div></pre></td></tr></table></figure>
<p>The trick is using <code>%~1</code> to remove the <code>&quot;</code> around the strings with spaces. Then force adding <code>&#39;</code> around all the filenames or else the <code>\</code> will be escaped.</p>
<p>The usage of this script is quite simple. Make sure <code>bin\ffmpeg.exe</code> exist then drag all the videos to the script file.<br>By default, it will not recode the videos to increase efficiency. If it goes wrong, such as splicing videos with different sizes, or the videos need to recode, just edit the ffmpeg command to fix it.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2015/01/23/a-simple-bat-script-to-splicing-videos/" data-id="citb82vfy000dg2efg1p4hhdu" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2015/01/23/a-simple-bat-script-to-splicing-videos/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/bat/">bat</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ffmpeg/">ffmpeg</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/script/">script</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/windows/">windows</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-a-simple-byobu-script-to-notify-your-new-mails-and-feeds" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2015/01/09/a-simple-byobu-script-to-notify-your-new-mails-and-feeds/" class="article-date">
  <time datetime="2015-01-09T00:00:00.000Z" itemprop="datePublished">Jan 9 2015</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2015/01/09/a-simple-byobu-script-to-notify-your-new-mails-and-feeds/">A colorful byobu script to notify your new mails and feeds</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>After <a href="../../../../2014/12/29/using-rssdrop-to-read-feeds-in-mutt/">delivering all the feeds to Maildirs by rssdrop</a>, I also need a notification daemon in my byobu shell.</p>
<p>Byobu supports custom script and display the outputs in the bottom bar. And particularly, you can <a href="../../../../2014/11/11/show-colors-in-byobu-control-bar/">use colors in byobu script’s output</a>!</p>
<p><img src="http://7sbplw.com1.z0.glb.clouddn.com/screenshot-20150109_155440.png" alt="img"></p>
<p>Here is my notification script at <code>~/.byobu/bin/5_mail</code>. 5 means checking every 5 seconds. Byobu will force all the scripts those period is shorter than 5 seconds to run as 5.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/bin/sh -e</span></div><div class="line">MAILDIR=<span class="string">"/home/<span class="variable">$USER</span>/Mail/Yahoo/Inbox"</span></div><div class="line">LOCK=<span class="string">"/home/<span class="variable">$USER</span>/桌面/新邮件.desktop"</span></div><div class="line">LOCKFILE=<span class="string">"/home/<span class="variable">$USER</span>/.byobu/bin/新邮件.desktop"</span></div><div class="line">MSGICON=<span class="string">"/usr/share/icons/Faenza/apps/scalable/gmail.svg"</span></div><div class="line">ICON_MAIL=<span class="string">"[新邮件!]"</span></div><div class="line">COLOR_SET=<span class="string">"#[fg=red bg=white bold]"</span></div><div class="line">COLOR_RESTORE=<span class="string">"#[fg=<span class="variable">$BYOBU_LIGHT</span> bg=<span class="variable">$BYOBU_DARK</span>]"</span></div><div class="line"></div><div class="line"><span class="keyword">if</span> [ ! <span class="string">"`ls <span class="variable">$MAILDIR</span>/new`"</span> = <span class="string">""</span> ] ; <span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="string">"<span class="variable">$COLOR_SET</span>"</span><span class="string">"<span class="variable">$ICON_MAIL</span>"</span><span class="string">"<span class="variable">$COLOR_RESTORE</span>"</span></div><div class="line">	<span class="keyword">if</span> [ ! <span class="_">-f</span> <span class="variable">$LOCK</span> ]; <span class="keyword">then</span></div><div class="line">		cp <span class="variable">$LOCKFILE</span> <span class="variable">$LOCK</span></div><div class="line">		notify-send -i <span class="variable">$MSGICON</span> <span class="string">"新邮件"</span> <span class="variable">$ICON_MAIL</span></div><div class="line">	<span class="keyword">fi</span></div><div class="line"><span class="keyword">else</span></div><div class="line">	rm <span class="_">-f</span> <span class="variable">$LOCK</span></div><div class="line"><span class="keyword">fi</span></div><div class="line"></div><div class="line"><span class="built_in">cd</span> /home/<span class="variable">$USER</span>/Mail/rss/</div><div class="line"><span class="keyword">for</span> i <span class="keyword">in</span> *</div><div class="line"><span class="keyword">do</span></div><div class="line">	<span class="keyword">if</span> [ ! <span class="string">"`ls <span class="variable">$i</span>/new`"</span> = <span class="string">""</span> ] ; <span class="keyword">then</span></div><div class="line">		<span class="built_in">echo</span> <span class="string">"<span class="variable">$COLOR_SET</span>"</span><span class="string">"[<span class="variable">$i</span>]"</span><span class="string">"<span class="variable">$COLOR_RESTORE</span>"</span></div><div class="line">	<span class="keyword">fi</span></div><div class="line"><span class="keyword">done</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2015/01/09/a-simple-byobu-script-to-notify-your-new-mails-and-feeds/" data-id="citb82vfe0004g2efomr85gb2" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2015/01/09/a-simple-byobu-script-to-notify-your-new-mails-and-feeds/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/byobu/">byobu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rssdrop/">rssdrop</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/script/">script</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-using-rssdrop-to-read-feeds-in-mutt" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/29/using-rssdrop-to-read-feeds-in-mutt/" class="article-date">
  <time datetime="2014-12-29T00:00:00.000Z" itemprop="datePublished">Dec 29 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/29/using-rssdrop-to-read-feeds-in-mutt/">Using rssdrop to receive and read feeds in Mutt</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="rssdrop"><a href="#rssdrop" class="headerlink" title="rssdrop"></a>rssdrop</h3><p>rssdrop is a perl script to deliver feeds to Maildirs. The <a href="http://search.cpan.org/~acg/rssdrop/" target="_blank" rel="external">origin script</a> is out of date and very buggy. So I create a <a href="https://github.com/petronny/rssdrop" target="_blank" rel="external">fork</a> and fixed lots of problems.</p>
<h4 id="Install"><a href="#Install" class="headerlink" title="Install"></a>Install</h4><p>The dependencies are <code>perl-xml-simple</code>, <code>perl-date-manip</code> and <code>perl-lwp-protocol-https</code>.</p>
<p>If you have solved the dependencies, clone my fork and rssdrop just works:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">git <span class="built_in">clone</span> https://github.com/petronny/rssdrop</div></pre></td></tr></table></figure>
<p>If you are using Archlinux, just install the <code>rssdrop</code> package from AUR.</p>
<h4 id="Getting-start"><a href="#Getting-start" class="headerlink" title="Getting start"></a>Getting start</h4><h5 id="Initialize-rssdrop"><a href="#Initialize-rssdrop" class="headerlink" title="Initialize rssdrop"></a>Initialize rssdrop</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ rssdrop --mailfolder path/to/mailfolder</div></pre></td></tr></table></figure>
<h5 id="Subscribe-to-a-new-feed"><a href="#Subscribe-to-a-new-feed" class="headerlink" title="Subscribe to a new feed"></a>Subscribe to a new feed</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ rssdrop <span class="_">-a</span> archlinux https://www.archlinux.org/feeds/news/</div></pre></td></tr></table></figure>
<h5 id="Fetch-items-in-your-new-feed"><a href="#Fetch-items-in-your-new-feed" class="headerlink" title="Fetch items in your new feed"></a>Fetch items in your new feed</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ rssdrop archlinux</div></pre></td></tr></table></figure>
<h5 id="Unsubscribe"><a href="#Unsubscribe" class="headerlink" title="Unsubscribe"></a>Unsubscribe</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ rssdrop <span class="_">-d</span> archlinux</div></pre></td></tr></table></figure>
<h5 id="Fetch-all-new-items-in-all-feeds"><a href="#Fetch-all-new-items-in-all-feeds" class="headerlink" title="Fetch all new items in all feeds"></a>Fetch all new items in all feeds</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ rssdrop</div></pre></td></tr></table></figure>
<h3 id="Mutt"><a href="#Mutt" class="headerlink" title="Mutt"></a>Mutt</h3><p>This part is simple, you can navigate to your feeds maildir or add it to spoolfile in your <code>.muttrc</code>.</p>
<p>But almost all the feed contents are html files, mutt will show them in plain text as default.<br>It’s not quite human readable so you need a <code>html2txt</code> script to convert it.</p>
<h3 id="html2txt"><a href="#html2txt" class="headerlink" title="html2txt"></a>html2txt</h3><p>Refer to <a href="http://stromberg.dnsalias.org/~strombrg/mutt-html.html" target="_blank" rel="external">this blog</a>, <code>links</code> is a good choice because of its numbered links feature. I changed it to <code>elinks</code> for Chinese supporting. Make sure it’s executable, and on your <code>$PATH</code>.</p>
<p>Here is an example of <code>html2txt</code>:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="comment"># for mutt to view html e-mails</span></div><div class="line"></div><div class="line">elinks -dump <span class="string">"file://<span class="variable">$@</span>"</span></div><div class="line"></div><div class="line"><span class="comment">#or</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment">#lynx -force_html -dump "$@"</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment">#or</span></div><div class="line"><span class="comment">#</span></div><div class="line"><span class="comment">#w3m -T text/html -F -dump "$@"</span></div></pre></td></tr></table></figure>
<p>You also need a <code>~/.mailcap</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"># for mutt to view html e-mails</div><div class="line">text/html;html2txt %s; copiousoutput</div></pre></td></tr></table></figure>
<p>And configure the following options in your <code>~/.muttrc</code>:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"># for viewing html e-mails inside mutt.  See also .mailcap</div><div class="line">auto_view text/html</div><div class="line">alternative_order text/enriched text/plain text text/html</div></pre></td></tr></table></figure>
<p>Now you can read all the html mails in mutt, not only the feeds.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2014/12/29/using-rssdrop-to-read-feeds-in-mutt/" data-id="citb82vgp000qg2ef24nk1vx8" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2014/12/29/using-rssdrop-to-read-feeds-in-mutt/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mutt/">mutt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/rssdrop/">rssdrop</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-auto-convert-the-base64-code-into-utf-8" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/12/17/auto-convert-the-base64-code-into-utf-8/" class="article-date">
  <time datetime="2014-12-17T00:00:00.000Z" itemprop="datePublished">Dec 17 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/12/17/auto-convert-the-base64-code-into-utf-8/">Auto convert the base64 code in Abook</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://abook.sourceforge.net/" target="_blank" rel="external">Abook</a> is a text-based addressbook program designed to use with <a href="http://www.mutt.org/" target="_blank" rel="external">mutt</a> mail client.</p>
<p>There is a chapter about using abook with mutt in the <a href="https://wiki.archlinux.org/index.php/Mutt#Abook" target="_blank" rel="external">ArchWiki</a>.</p>
<p>If you want to use <strong>Abook</strong> instead of aliases, remove the aliases configuration in <code>.muttrc</code> and add this:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line">set query_command= &quot;abook --mutt-query &apos;%s&apos;&quot;</div><div class="line">macro index,pager  a &quot;&lt;pipe-message&gt;abook --add-email-quiet&lt;return&gt;&quot; &quot;Add this sender to Abook&quot;</div><div class="line">bind editor        &lt;Tab&gt; complete-query</div></pre></td></tr></table></figure>
<p>But sadly, the command <code>abook --add-email-quiet</code> always gets names like “=?utf-8?B?55m+5ZCI5LuZ5a2Q?=” which is base64 encoded.</p>
<p>To convert the base64 string and automatically fit the correct encoding, you can use a shell function:</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div></pre></td><td class="code"><pre><div class="line"><span class="function"><span class="title">conv</span></span>() &#123;</div><div class="line">	<span class="built_in">eval</span> `<span class="built_in">echo</span> <span class="variable">$1</span> | awk -F <span class="string">'?'</span> <span class="string">'&#123; print "echo " $4 " | base64 -d | iconv -f " $2 &#125;'</span>`</div><div class="line">&#125;</div></pre></td></tr></table></figure>
<p>Then:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">$ conv name==?utf-8?B?55m+5ZCI5LuZ5a2Q?=</div></pre></td></tr></table></figure>
<p>Or a python script like this:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/usr/bin/env python2</span></div><div class="line"><span class="comment"># -*- coding: utf-8 -*-</span></div><div class="line"><span class="keyword">import</span> email</div><div class="line"><span class="keyword">import</span> email.header</div><div class="line"><span class="keyword">import</span> sys</div><div class="line"><span class="keyword">import</span> re</div><div class="line"></div><div class="line"><span class="function"><span class="keyword">def</span> <span class="title">abookdecode</span><span class="params">(origin_name)</span>:</span></div><div class="line">    name=email.Header.decode_header(origin_name)</div><div class="line">	<span class="keyword">if</span> name[<span class="number">0</span>][<span class="number">1</span>] <span class="keyword">is</span> <span class="keyword">None</span>:</div><div class="line">	    <span class="keyword">return</span> name[<span class="number">0</span>][<span class="number">0</span>]</div><div class="line">	<span class="keyword">else</span>:</div><div class="line">	    <span class="keyword">return</span> name[<span class="number">0</span>][<span class="number">0</span>].decode(name[<span class="number">0</span>][<span class="number">1</span>]).encode(<span class="string">'utf-8'</span>)</div><div class="line"></div><div class="line">    <span class="keyword">if</span> <span class="string">'__main__'</span>==__name__:</div><div class="line">	infile=open(sys.argv[<span class="number">1</span>],<span class="string">"r"</span>)</div><div class="line">    content=infile.readlines()</div><div class="line">    infile.close()</div><div class="line">    outfile=open(sys.argv[<span class="number">1</span>],<span class="string">"wb"</span>)</div><div class="line">	<span class="keyword">for</span> line <span class="keyword">in</span> content:</div><div class="line">	<span class="keyword">if</span> line[<span class="number">0</span>:<span class="number">4</span>]==<span class="string">'name'</span>:</div><div class="line">	    outfile.write(line[<span class="number">0</span>:<span class="number">5</span>]+abookdecode(line[<span class="number">5</span>:<span class="number">-1</span>])+<span class="string">'\n'</span>)</div><div class="line">	    <span class="keyword">else</span>:</div><div class="line">		outfile.write(line)</div><div class="line">    outfile.close()</div></pre></td></tr></table></figure>
<p>And then change your <code>.muttrc</code> to call the script:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">macro index,pager  a &quot;&lt;pipe-message&gt;abook --add-email-quiet &amp;&amp; abook-decode ~/.abook/addressbook&lt;return&gt;&quot; &quot;Add this sender to Abook&quot;</div></pre></td></tr></table></figure>
<p>Now the addressbook will be written correctly.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2014/12/17/auto-convert-the-base64-code-into-utf-8/" data-id="citb82vfk0006g2efxq9z9h6a" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2014/12/17/auto-convert-the-base64-code-into-utf-8/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/abook/">abook</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/mutt/">mutt</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/python/">python</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/script/">script</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-a-simple-script-to-check-your-ruby-version" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/29/a-simple-script-to-check-your-ruby-version/" class="article-date">
  <time datetime="2014-11-29T00:00:00.000Z" itemprop="datePublished">Nov 29 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/29/a-simple-script-to-check-your-ruby-version/">A simple script to check your ruby library version</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>Most ruby packages are not maintained by the Archlinux repository, I installed them locally then added <code>~/.gem/ruby/2.1.0/bin</code> to <code>$PATH</code>.</p>
<p>Although the ruby version is <code>2.1.5</code>, it uses <code>2.1.0</code> as the library version. It feels silly if I change it manually every time, so I have to find a way to check it automatically.</p>
<p>Refer to this <a href="http://forum.ubuntu.com.cn/viewtopic.php?f=48&amp;t=466400" target="_blank" rel="external">post</a>, the output of <code>ruby -e &#39;puts $LOAD_PATH&#39;</code> includes what I need.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div></pre></td><td class="code"><pre><div class="line">/usr/lib/ruby/site_ruby/2.2.0</div><div class="line">/usr/lib/ruby/site_ruby/2.2.0/x86_64-linux</div><div class="line">/usr/lib/ruby/site_ruby</div><div class="line">/usr/lib/ruby/vendor_ruby/2.2.0</div><div class="line">/usr/lib/ruby/vendor_ruby/2.2.0/x86_64-linux</div><div class="line">/usr/lib/ruby/vendor_ruby</div><div class="line">/usr/lib/ruby/2.2.0</div><div class="line">/usr/lib/ruby/2.2.0/x86_64-linux</div></pre></td></tr></table></figure>
<p>Then use <code>sed</code> and <code>grep</code> to find it out.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">ruby <span class="_">-e</span> <span class="string">'puts $LOAD_PATH'</span> | sed <span class="string">"s/\/usr\/lib\/ruby\///g"</span> |grep <span class="string">'^[0-9\.]*$'</span></div></pre></td></tr></table></figure>
<p>Finally I added the following line to <code>.zshrc</code> and it works fine.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line">ruby_version=`ruby <span class="_">-e</span> <span class="string">'puts $LOAD_PATH'</span> | sed <span class="string">"s/\/usr\/lib\/ruby\///g"</span> |grep <span class="string">'^[0-9\.]*$'</span>`</div><div class="line">path=(<span class="variable">$path</span> ~/.gem/ruby/<span class="variable">$ruby_version</span>/bin)</div></pre></td></tr></table></figure>
<p>BTW, this script can also be used in the PKGBUILD of ruby gem packages.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2014/11/29/a-simple-script-to-check-your-ruby-version/" data-id="citb82vfi0005g2efgjpkssus" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2014/11/29/a-simple-script-to-check-your-ruby-version/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/ruby/">ruby</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/script/">script</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-show-colors-in-byobu-control-bar" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/11/11/show-colors-in-byobu-control-bar/" class="article-date">
  <time datetime="2014-11-11T00:00:00.000Z" itemprop="datePublished">Nov 11 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/11/11/show-colors-in-byobu-control-bar/">Showing colors in the Byobu custom scripts</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="byobu.co">Byobu</a> is a frontend for screen or tmux.</p>
<p>But the custom script sample in the manual page does not working in tmux.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#!/bin/sh</span></div><div class="line"><span class="built_in">printf</span> <span class="string">"\005&#123;= bw&#125;%s\005&#123;-&#125;\n"</span> <span class="string">"<span class="variable">$(uname -r)</span>"</span></div></pre></td></tr></table></figure>
<p>Actually, writing it in tmux’s way is ok.</p>
<p>Here is an example for showing the Wifi name with colors.</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div></pre></td><td class="code"><pre><div class="line"><span class="comment">#!/bin/sh -e</span></div><div class="line">COLOR_SET=<span class="string">"#[fg=white bg=blue bold]"</span></div><div class="line">COLOR_RESTORE=<span class="string">"#[fg=<span class="variable">$BYOBU_LIGHT</span> bg=<span class="variable">$BYOBU_DARK</span>]"</span></div><div class="line">out=`iwconfig <span class="variable">$MONITORED_NETWORK</span> 2&gt;/dev/null | awk <span class="string">'$0 ~ /[ ]*SSID/ &#123; sub(/.*[:]/,"",$4); printf("ssid=%s\n", $4); &#125;'</span>`</div><div class="line"><span class="built_in">eval</span> <span class="string">"<span class="variable">$out</span>"</span></div><div class="line"><span class="keyword">if</span> [ ! <span class="string">"<span class="variable">$ssid</span>"</span> = <span class="string">"off/any"</span> ]</div><div class="line"><span class="keyword">then</span></div><div class="line">	<span class="built_in">echo</span> <span class="_">-e</span> <span class="string">"<span class="variable">$COLOR_SET</span>"</span><span class="string">"<span class="variable">$ssid</span>"</span><span class="string">"<span class="variable">$COLOR_RESTORE</span>"</span></div><div class="line"><span class="keyword">fi</span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2014/11/11/show-colors-in-byobu-control-bar/" data-id="citb82vg8000jg2eferaheija" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2014/11/11/show-colors-in-byobu-control-bar/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/byobu/">byobu</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/script/">script</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/tmux/">tmux</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-running-qqdownload-prefectly-under-linux" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2014/10/21/running-qqdownload-prefectly-under-linux/" class="article-date">
  <time datetime="2014-10-21T00:00:00.000Z" itemprop="datePublished">Oct 21 2014</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2014/10/21/running-qqdownload-prefectly-under-linux/">Running QQDownload prefectly under linux</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p><a href="http://xf.qq.com/index.html" target="_blank" rel="external">QQDownload</a>(QQ旋风, which means “QQ tornado”) is a download manager and bittorrent client developed by Tencent Holdings Ltd.</p>
<p>Comparing with its main competitor, Xunlei, QQDownload is more easier to handle by wine.</p>
<p>Here is a tutorial for running QQDownload 4.8 Beta using wine:</p>
<ol>
<li><p>Create a new 32-bit wineprefix</p>
<p> export WINEARCH=win32<br> export WINEPREFIX=somewhere winetricks</p>
</li>
<li><p>If wine ask you to install <code>gecko</code> and <code>mono</code> plugins, permit it.</p>
</li>
<li>Install <code>windowscodecs</code> to your wineprefix using <code>winetricks</code> GUI.</li>
<li>Then install <code>riched20</code>, <code>riched30</code> and <code>wininet</code> to your wineprefix using <code>winetricks</code> GUI.</li>
<li>Finally you need a Chinese font for all charactors. The <code>fakeChinese</code> in <code>winetricks</code> is a good choice.</li>
<li>Have fun! You may need a desktop launcher.</li>
</ol>
<h3 id="PS"><a href="#PS" class="headerlink" title="PS"></a>PS</h3><p>if you have permission to use the <a href="http://lixian.qq.com/login.html" target="_blank" rel="external">Tencent offline downloading</a>,<br>such as VIP account or gained LV8 in QQDownload, I recommend you to try out another python script, <a href="https://github.com/kikyous/xfdown" target="_blank" rel="external">xfdown</a>.</p>
<p>Xfdown now has a awesome Tui with color support, wow.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2014/10/21/running-qqdownload-prefectly-under-linux/" data-id="citb82vg5000hg2efwk58oo9o" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2014/10/21/running-qqdownload-prefectly-under-linux/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/linux/">linux</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/wine/">wine</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-Using-gtest-and-gcov-in-cocos2dx" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/12/14/Using-gtest-and-gcov-in-cocos2dx/" class="article-date">
  <time datetime="2013-12-14T00:00:00.000Z" itemprop="datePublished">Dec 14 2013</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/12/14/Using-gtest-and-gcov-in-cocos2dx/">Using gtest and gcov in cocos2dx</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>狂调半宿代码，深感与硬件打交道坑爹之处．<br>现暂记几处，以免后人入坑．</p>
<h3 id="cocos2dx的libtiff-a的main函数重定义"><a href="#cocos2dx的libtiff-a的main函数重定义" class="headerlink" title="cocos2dx的libtiff.a的main函数重定义"></a>cocos2dx的libtiff.a的main函数重定义</h3><p>这样自己写的c文件都不能有main函数，gtest和gcov都不能用了.<br><a href="http://blog.linguofeng.com/archive/2013/04/17/cocos2d-x-ndkgdb.html" target="_blank" rel="external">参见此贴</a><br>后简直雪中送炭．</p>
<p>现把我在自己的项目中的做法记下来：</p>
<ul>
<li>切换到UnitTest分支</li>
<li>做git下的proj.android/exteral到cocos2dx/sebomber/proj.android/exteral的软连接</li>
<li>用git下的libtiff.a替换 cocos2d-x-2.1.5/cocos2dx/platform/third_party/android/prebuilt/libtiff/libs/armeabi/libtiff.a</li>
</ul>
<h4 id="在jni-main3-cpp内做gtest单元测试"><a href="#在jni-main3-cpp内做gtest单元测试" class="headerlink" title="在jni/main3.cpp内做gtest单元测试"></a>在jni/main3.cpp内做gtest单元测试</h4><p>编译使用原来的编译方式</p>
<p>运行方式</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div></pre></td><td class="code"><pre><div class="line">adb push cocos2d-x-2.1.5/sebomber/proj.android/libs/armeabi/libgame /data/</div><div class="line">adb shell</div><div class="line"><span class="built_in">export</span> GCOV_PREFIX=/sdcard/mycov</div><div class="line"><span class="built_in">cd</span> /data</div><div class="line">./libgame</div></pre></td></tr></table></figure>
<ul>
<li>运行结束后，生成的GCOV用的文件在/sdcard/mycov里</li>
</ul>
<h5 id="获取GCOV文件到home"><a href="#获取GCOV文件到home" class="headerlink" title="获取GCOV文件到home"></a>获取GCOV文件到home</h5><figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">adb pull /sdcard/mycov ~</div></pre></td></tr></table></figure>
<p>将cocos2d-x-2.1.5/sebomber/proj.android/obj里面的.gcno文件<br>从手机里得到的.gcda, 和对应的.cpp文件放在一起<br>运行</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">android-ndk/toolchains/arm-linux-androideabi-4.6/prebuilt/linux-x86_64/bin/arm-linux-androideabi-gcov -b *.cpp</div></pre></td></tr></table></figure>
<p>即可得到覆盖率报告及生成的报告文件</p>
<p>其中，libtiff.a是要自己重编译的．里面的libgtest也要重编译．</p>
<h3 id="gtest与cocos2dx冲突的问题"><a href="#gtest与cocos2dx冲突的问题" class="headerlink" title="gtest与cocos2dx冲突的问题"></a>gtest与cocos2dx冲突的问题</h3><p>感谢<a href="https://github.com/sfuku7/googletest_android_ndk-build" target="_blank" rel="external">github.com/sfuku7/googletest_android_ndk-build</a><br>给出了详尽的使用方式．</p>
<p>不过里面自带的那个libgtest是不能直接用的．<br>由于cocos2dx在编译时使用了frtti优化，我在写cocos2dx项目的单元测试文件时要么gtest不能用，要么cocos2dx不能用．<br>蛋疼了好几个小时，饭都没吃．最后想到把libgtest也开启frtti重编译一下就应该兼容了．</p>
<p>还是按照上面那个链接里面给出的googletest的编译方式<br>额外在googletest的jni/Application.mk中添加</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">APP_CPPFLAGS := -frtti</div></pre></td></tr></table></figure>
<p>然后做一个新的libgtest.</p>
<p>放到那个项目的sample/test_project/external下对应的地方测试能用．</p>
<p>按照sample/test_project/下的目录结构复制到cocos2dx的proj.android下，终于成功了．</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2013/12/14/Using-gtest-and-gcov-in-cocos2dx/" data-id="citb82vf40002g2eft3pu4gt6" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2013/12/14/Using-gtest-and-gcov-in-cocos2dx/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/android/">android</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/cocos2dx/">cocos2dx</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/gtest/">gtest</a></li></ul>

    </footer>
  </div>
  
</article>


  
    <article id="post-using-astyle-to-format-cc-codes" class="article article-type-post" itemscope itemprop="blogPost">
  <div class="article-meta">
    <a href="/2013/12/14/using-astyle-to-format-cc-codes/" class="article-date">
  <time datetime="2013-12-14T00:00:00.000Z" itemprop="datePublished">Dec 14 2013</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2013/12/14/using-astyle-to-format-cc-codes/">Using astyle to format C/C++ codes</a>
    </h1>
  

      </header>
    
    <div class="article-entry" itemprop="articleBody">
      
        <figure class="highlight sh"><table><tr><td class="gutter"><pre><div class="line">1</div></pre></td><td class="code"><pre><div class="line">astyle *.hpp -A7tCSKNLwYFpPHxdk2W2yej</div></pre></td></tr></table></figure>
<p>Here is a preview.</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><div class="line">1</div><div class="line">2</div><div class="line">3</div><div class="line">4</div><div class="line">5</div><div class="line">6</div><div class="line">7</div><div class="line">8</div><div class="line">9</div><div class="line">10</div><div class="line">11</div><div class="line">12</div><div class="line">13</div><div class="line">14</div><div class="line">15</div><div class="line">16</div><div class="line">17</div><div class="line">18</div><div class="line">19</div><div class="line">20</div><div class="line">21</div><div class="line">22</div><div class="line">23</div><div class="line">24</div><div class="line">25</div><div class="line">26</div><div class="line">27</div><div class="line">28</div><div class="line">29</div><div class="line">30</div><div class="line">31</div><div class="line">32</div><div class="line">33</div><div class="line">34</div><div class="line">35</div><div class="line">36</div><div class="line">37</div><div class="line">38</div><div class="line">39</div><div class="line">40</div><div class="line">41</div><div class="line">42</div></pre></td><td class="code"><pre><div class="line"><span class="meta">#<span class="meta-keyword">ifndef</span> __Hero_Bazzi__</span></div><div class="line"><span class="meta">#<span class="meta-keyword">define</span> __Hero_Bazzi__</span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"cocos2d.h"</span></span></div><div class="line"><span class="meta">#<span class="meta-keyword">include</span> <span class="meta-string">"HeroClass.hpp"</span></span></div><div class="line">USING_NS_CC;</div><div class="line"><span class="keyword">class</span> HeroBazzi: <span class="keyword">public</span> Hero&#123;</div><div class="line"><span class="keyword">public</span>:</div><div class="line">	<span class="function"><span class="keyword">void</span> <span class="title">createhero</span><span class="params">(CCPoint a,<span class="keyword">float</span> scale,<span class="keyword">int</span> id,<span class="keyword">int</span> type)</span></span>;</div><div class="line">&#125;;</div><div class="line"></div><div class="line"><span class="keyword">void</span> HeroBazzi::createhero(CCPoint a,<span class="keyword">float</span> scale,<span class="keyword">int</span> id,<span class="keyword">int</span> type)</div><div class="line">&#123;</div><div class="line">	speed = <span class="number">5</span>;</div><div class="line">	direction = <span class="number">5</span>;</div><div class="line">	bubble_range = <span class="number">3</span>;</div><div class="line">	bubble_num = <span class="number">3</span>;</div><div class="line">	sca = scale;</div><div class="line">	idx = id;</div><div class="line">	islive = <span class="literal">true</span>;</div><div class="line">	isfree = <span class="literal">true</span>;</div><div class="line">	sprite = CCSprite::create();</div><div class="line">	sprite-&gt;setScale(scale);</div><div class="line">	sprite-&gt;setPosition(a);</div><div class="line">	<span class="keyword">if</span> (type == <span class="number">0</span>)</div><div class="line">		AniReader::read(<span class="string">"unit_bazzi.ani"</span>);</div><div class="line">	<span class="keyword">else</span></div><div class="line">		AniReader::read(<span class="string">"unit_luxbazzi.ani"</span>);</div><div class="line">	num = AniReader::num;</div><div class="line">	<span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; <span class="number">100</span>; i++)</div><div class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j = <span class="number">0</span>; j &lt; <span class="number">4</span>; j++)</div><div class="line">		&#123;</div><div class="line">			<span class="built_in">list</span>[i][j] = AniReader::<span class="built_in">list</span>[i][j];</div><div class="line">		&#125;</div><div class="line">	<span class="keyword">if</span>  (type == <span class="number">0</span>)</div><div class="line">		texture = CCTextureCache::sharedTextureCache()-&gt;addImage(<span class="string">"image/unit/unit_bazzi.png"</span>);</div><div class="line">	<span class="keyword">else</span></div><div class="line">		texture = CCTextureCache::sharedTextureCache()-&gt;addImage(<span class="string">"image/unit/unit_luxbazzi.png"</span>);</div><div class="line">	animate = CCRepeatForever::create(CCAnimate::create(moveanimation(<span class="number">4</span>)));</div><div class="line">	sprite-&gt;runAction(animate);</div><div class="line">	action=<span class="literal">NULL</span>;</div><div class="line">&#125;</div><div class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></div></pre></td></tr></table></figure>

      
    </div>
    <footer class="article-footer">
      <a data-url="http://jingbei.li/2013/12/14/using-astyle-to-format-cc-codes/" data-id="citb82vgm000og2efaytrore0" class="article-share-link">Teilen</a>
      
        <a href="http://jingbei.li/2013/12/14/using-astyle-to-format-cc-codes/#disqus_thread" class="article-comment-link">Kommentare</a>
      
      
  <ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/astyle/">astyle</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/c/">c++</a></li></ul>

    </footer>
  </div>
  
</article>


  


  <nav id="page-nav">
    
    <a class="extend prev" rel="prev" href="/">&laquo; zurück</a><a class="page-number" href="/">1</a><span class="page-number current">2</span>
  </nav>

</section>
        
          <aside id="sidebar">
  
    
  <div class="widget-wrap">
    <h3 class="widget-title">letzter Beitrag</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2016/09/18/迁移至hexo/">迁移至hexo</a>
          </li>
        
          <li>
            <a href="/2016/01/03/raspberry-pi-android-robot/">用raspberry pi做一个android机器人</a>
          </li>
        
          <li>
            <a href="/2016/01/02/面向对象手法解OJ题/">面向对象手法解OJ题</a>
          </li>
        
          <li>
            <a href="/2016/01/02/论如何给一门课出大作业及评测系统/">论如何给一门课出大作业及评测系统</a>
          </li>
        
          <li>
            <a href="/2015/12/29/我来给大家科普一下什么叫C模拟面向对象/">我来给大家科普一下什么叫C模拟面向对象</a>
          </li>
        
      </ul>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Tag Cloud</h3>
    <div class="widget tagcloud">
      <a href="/tags/abook/" style="font-size: 10px;">abook</a> <a href="/tags/android/" style="font-size: 10px;">android</a> <a href="/tags/astyle/" style="font-size: 10px;">astyle</a> <a href="/tags/bat/" style="font-size: 10px;">bat</a> <a href="/tags/byobu/" style="font-size: 12.5px;">byobu</a> <a href="/tags/c/" style="font-size: 10px;">c</a> <a href="/tags/c/" style="font-size: 15px;">c++</a> <a href="/tags/cocos2dx/" style="font-size: 10px;">cocos2dx</a> <a href="/tags/cpp/" style="font-size: 10px;">cpp</a> <a href="/tags/desktop-game/" style="font-size: 10px;">desktop game</a> <a href="/tags/ffmpeg/" style="font-size: 10px;">ffmpeg</a> <a href="/tags/gtest/" style="font-size: 10px;">gtest</a> <a href="/tags/hardware/" style="font-size: 10px;">hardware</a> <a href="/tags/hexo/" style="font-size: 10px;">hexo</a> <a href="/tags/ipv6/" style="font-size: 10px;">ipv6</a> <a href="/tags/jekyll/" style="font-size: 10px;">jekyll</a> <a href="/tags/linux/" style="font-size: 20px;">linux</a> <a href="/tags/logs/" style="font-size: 12.5px;">logs</a> <a href="/tags/mutt/" style="font-size: 12.5px;">mutt</a> <a href="/tags/openwrt/" style="font-size: 10px;">openwrt</a> <a href="/tags/php/" style="font-size: 10px;">php</a> <a href="/tags/python/" style="font-size: 10px;">python</a> <a href="/tags/raspberry-pi/" style="font-size: 10px;">raspberry pi</a> <a href="/tags/rssdrop/" style="font-size: 12.5px;">rssdrop</a> <a href="/tags/ruby/" style="font-size: 10px;">ruby</a> <a href="/tags/script/" style="font-size: 17.5px;">script</a> <a href="/tags/shell/" style="font-size: 10px;">shell</a> <a href="/tags/thinkpad/" style="font-size: 10px;">thinkpad</a> <a href="/tags/tmux/" style="font-size: 10px;">tmux</a> <a href="/tags/windows/" style="font-size: 12.5px;">windows</a> <a href="/tags/wine/" style="font-size: 10px;">wine</a> <a href="/tags/yourls/" style="font-size: 10px;">yourls</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">Archiv</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/09/">September 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2016/01/">January 2016</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/12/">December 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/10/">October 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/09/">September 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/08/">August 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/07/">July 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/02/">February 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2015/01/">January 2015</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/12/">December 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/11/">November 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2014/10/">October 2014</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2013/12/">December 2013</a></li></ul>
    </div>
  </div>


  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      &copy; 2016 Jingbei Li<br>
      Powered by <a href="http://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>
    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
    <a href="/about" class="mobile-nav-link">About</a>
  
</nav>
    
<script>
  var disqus_shortname = 'jingbei';
  
  (function(){
    var dsq = document.createElement('script');
    dsq.type = 'text/javascript';
    dsq.async = true;
    dsq.src = '//' + disqus_shortname + '.disqus.com/count.js';
    (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
  })();
</script>


<script src="//ajax.googleapis.com/ajax/libs/jquery/2.0.3/jquery.min.js"></script>


  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">
  <script src="/fancybox/jquery.fancybox.pack.js"></script>


<script src="/js/script.js"></script>




  </div>
</body>
</html>